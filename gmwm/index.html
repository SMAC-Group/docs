<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Generalized Method of Wavelet Moments &bull; gmwm</title><!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous"><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet"><script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">gmwm</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="articles/Quick-Start-Guide.html">Quick Start</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="news/index.html">Change log</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/SMAC-Group/gmwm">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->

<div id="gmwm-r-package" class="section level1">
<div class="page-header"><h1 class="hasAnchor"><a href="#gmwm-r-package" class="anchor"> </a><code>gmwm</code> R Package</h1></div>
<p>This repository holds the Generalized Method of Wavelet Moments (GMWM) R package. This estimation technique uses the wavelet variance in a moment-matching spirit to estimate parameters of time series models such as ARMA or state-space models. A robust version of the GMWM is also implemented in this package together with a tailored made method for inertial sensors calibration, which typically deals with very large sample sizes.</p>
<p>Below are examples of the capabilities of the <code>gmwm</code> package.</p>
<p>To start, let&rsquo;s generate some data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Data generation ##
<span class="co"># Specify model</span>
m =<span class="st"> </span><span class="kw"><a href="reference/AR1.html">AR1</a></span>(<span class="dt">phi =</span> .<span class="dv">98</span>, <span class="dt">sigma2 =</span> .<span class="dv">01</span>) +<span class="st"> </span><span class="kw"><a href="reference/WN.html">WN</a></span>(<span class="dt">sigma2 =</span> <span class="dv">1</span>)

<span class="co"># Generate Data</span>
d =<span class="st"> </span><span class="kw"><a href="reference/gen_gts.html">gen_gts</a></span>(<span class="dv">10000</span>, m)</code></pre></div>
<p>Once we have data, we can see what the wavelet variance looks like for the data with the classical and robust wavelet variances.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Calculate the classical wavelet variance with the Haar filter</span>
wv.classical =<span class="st"> </span><span class="kw"><a href="reference/wvar.html">wvar</a></span>(d)

<span class="co"># Plot the data</span>
<span class="kw">plot</span>(wv.classical)

<span class="co"># Calculate robust wavelet variance</span>
wv.robust =<span class="st"> </span><span class="kw"><a href="reference/wvar.html">wvar</a></span>(d, <span class="dt">robust =</span> <span class="ot">TRUE</span>, <span class="dt">eff =</span> <span class="fl">0.6</span>)

<span class="co"># Compare both versions</span>
<span class="kw"><a href="reference/compare_wvar.html">compare_wvar</a></span>(wv.classical, wv.robust)</code></pre></div>
<p>Now, let&rsquo;s try to estimate it with specific (e.g.&nbsp;user supplied) and guessed (e.g.&nbsp;program generated) parameters.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Estimation Modes ##

<span class="co"># Use a specific initial starting value</span>
o.specific =<span class="st"> </span><span class="kw"><a href="reference/gmwm_imu.html">gmwm_imu</a></span>(<span class="kw"><a href="reference/AR1.html">AR1</a></span>(<span class="dt">phi=</span>.<span class="dv">98</span>,<span class="dt">sigma2=</span>.<span class="dv">05</span>) +<span class="st"> </span><span class="kw"><a href="reference/WN.html">WN</a></span>(<span class="dt">sigma2=</span>.<span class="dv">95</span>), <span class="dt">data =</span> d)

<span class="co"># Let the program guess a good starting value</span>
o.guess =<span class="st"> </span><span class="kw"><a href="reference/gmwm_imu.html">gmwm_imu</a></span>(<span class="kw"><a href="reference/AR1.html">AR1</a></span>()+<span class="kw"><a href="reference/WN.html">WN</a></span>(), <span class="dt">data =</span> d)</code></pre></div>
<p>To run inference or view the parameter estimates, we do:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## View Model Info ##

<span class="co"># Standard summary</span>
<span class="kw">summary</span>(o.specific)

<span class="co"># View with asymptotic inference</span>
<span class="kw">summary</span>(o.specific, <span class="dt">inference =</span> T)

<span class="co"># View with bootstrapped inference</span>
<span class="kw">summary</span>(o.specific, <span class="dt">inference =</span> T, <span class="dt">bs.gof =</span> T)</code></pre></div>
<p>Alternatively, we can let the program try to figure out the best model for the data using the Wavelet Information Criteria (WIC):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Model selection ##

<span class="co"># Separate Models - Compares 2*AR1() and AR1() + WN() under common model 2*AR1() + WN()</span>
<span class="co"># Note: This function created a shared model (e.g. 2*AR1() + WN()) if not supplied to obtain the WIC. </span>
ms.sep =<span class="st"> </span><span class="kw"><a href="reference/rank_models.html">rank_models</a></span>(<span class="kw"><a href="reference/AR1.html">AR1</a></span>()+<span class="kw"><a href="reference/WN.html">WN</a></span>(), <span class="dv">2</span>*<span class="kw"><a href="reference/AR1.html">AR1</a></span>(), <span class="dt">data =</span> d, <span class="dt">model.type=</span><span class="st">"imu"</span>)

<span class="co"># Nested version - Compares AR1() + WN(), AR1(), WN()</span>
ms.nested =<span class="st"> </span><span class="kw"><a href="reference/rank_models.html">rank_models</a></span>(<span class="kw"><a href="reference/AR1.html">AR1</a></span>()+<span class="kw"><a href="reference/WN.html">WN</a></span>(), <span class="dt">data =</span> d, <span class="dt">nested =</span> <span class="ot">TRUE</span>, <span class="dt">model.type =</span> <span class="st">"imu"</span>)

<span class="co"># Bootstrapped Optimism</span>
ms.bs =<span class="st"> </span><span class="kw"><a href="reference/rank_models.html">rank_models</a></span>(<span class="kw"><a href="reference/AR1.html">AR1</a></span>()+<span class="kw"><a href="reference/WN.html">WN</a></span>(), <span class="kw"><a href="reference/WN.html">WN</a></span>(), <span class="dt">data =</span> d, <span class="dt">bootstrap =</span> <span class="ot">TRUE</span>, <span class="dt">model.type =</span> <span class="st">"imu"</span>)

<span class="co"># See automatic selection fit</span>
<span class="kw">plot</span>(ms.sep)

<span class="co"># View model picked:</span>
<span class="kw">summary</span>(ms.sep)</code></pre></div>
<p>Last, but certainly not least, we can also approximate a contaminated sample with robust methodology:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Data generation ##
<span class="co"># Specify model</span>
model =<span class="st"> </span><span class="kw"><a href="reference/AR1.html">AR1</a></span>(<span class="dt">phi =</span> .<span class="dv">99</span>, <span class="dt">sigma2 =</span> .<span class="dv">01</span>) +<span class="st"> </span><span class="kw"><a href="reference/WN.html">WN</a></span>(<span class="dt">sigma2 =</span> <span class="dv">1</span>)

<span class="co"># Generate Data</span>
<span class="kw">set.seed</span>(<span class="dv">213</span>)
N =<span class="st"> </span><span class="fl">1e3</span>
sim.ts =<span class="st"> </span><span class="kw"><a href="reference/gen_gts.html">gen_gts</a></span>(n, model)

<span class="co"># Contaminate Data</span>
cont.eps =<span class="st"> </span><span class="fl">0.01</span>
cont.num =<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span>:N, <span class="kw">round</span>(N*cont.eps))
sim.ts[cont.num,] =<span class="st"> </span>sim.ts[cont.num,] +<span class="st"> </span><span class="kw">rnorm</span>(<span class="kw">round</span>(N*cont.eps),<span class="dv">0</span>,<span class="kw">sqrt</span>(<span class="dv">100</span>))

<span class="co"># Plot the data</span>
<span class="kw">plot</span>(sim.ts)

<span class="co"># Classical Wavelet Variance</span>
wv.classic =<span class="st"> </span><span class="kw"><a href="reference/wvar.html">wvar</a></span>(sim.ts)

<span class="co"># Robust Wavelet Variance</span>
wv.robust =<span class="st"> </span><span class="kw"><a href="reference/wvar.html">wvar</a></span>(sim.ts, <span class="dt">robust =</span> <span class="ot">TRUE</span>, <span class="dt">eff =</span> <span class="fl">0.6</span>)

<span class="co"># Plot the Classical vs. Robust WV</span>
<span class="kw"><a href="reference/compare_wvar.html">compare_wvar</a></span>(wv.classic, wv.robust, <span class="dt">split =</span> <span class="ot">FALSE</span>)

<span class="co"># Run robust estimation</span>
o =<span class="st"> </span><span class="kw"><a href="reference/gmwm_imu.html">gmwm_imu</a></span>(model, sim.ts, <span class="dt">robust =</span> <span class="ot">TRUE</span>, <span class="dt">eff =</span> <span class="fl">0.6</span>)

<span class="co"># Robust information</span>
<span class="kw">summary</span>(o)</code></pre></div>
</div>
<div id="install-instructions" class="section level1">
<h1 class="hasAnchor"><a href="#install-instructions" class="anchor"> </a>Install Instructions</h1>
<p>To install the <code>gmwm</code> package, there are three options: CRAN (Stable), GitHub (Developmental), or SMAC (stable - offline).</p>
<div id="recommended-r-interface" class="section level2">
<h2 class="hasAnchor"><a href="#recommended-r-interface" class="anchor"> </a>Recommended R Interface</h2>
<p>We firmly recommend that any users of this package use the <a href="https://www.rstudio.com/products/rstudio/download/">RStudio IDE</a> over the default R GUI.</p>
</div>
<div id="installing-the-package-through-cran-stable" class="section level2">
<h2 class="hasAnchor"><a href="#installing-the-package-through-cran-stable" class="anchor"> </a>Installing the package through CRAN (Stable)</h2>
<p>The installation process with CRAN is the simplest</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"gmwm"</span>)</code></pre></div>
<p>Installing the package this way gives you access to stable features. Furthermore, the installation itself does not require a compiler or preinstalling any dependencies. However, we are limited to updating the package on CRAN to once every month. Thus, there may be some lag between when features are developed and when they are available on this version.</p>
</div>
<div id="installing-the-package-through-github-developmental" class="section level2">
<h2 class="hasAnchor"><a href="#installing-the-package-through-github-developmental" class="anchor"> </a>Installing the package through GitHub (Developmental)</h2>
<p>For users who are interested in having the latest and greatest developments withing wavelets or GMWM methodology, this option is ideal. Though, there is considerably more work that a user must do to have a stable version of the package. <strong>The setup to obtain the development version is platform dependent.</strong></p>
<p>Specifically, one <strong>must</strong> have a compiler installed on your system that is compatible with R.</p>
<p>For help on obtaining a compiler consult:</p>
<ul><li><a href="http://thecoatlessprofessor.com/programming/r-compiler-tools-for-rcpp-on-os-x/">OS X</a></li>
<li><a href="https://cran.r-project.org/bin/windows/Rtools/">Windows</a></li>
</ul><p>Depending on your operating system, further requirements exist such as:</p>
<p><strong>OS X</strong></p>
<p>Some user report the need to use X11 to suppress shared library errors. To install X11, visit <a href="http://www.xquartz.org/">xquartz.org</a></p>
<p><strong>Linux</strong></p>
<p>Both curl and libxml are required.</p>
<p>For <strong>Debian</strong> systems, enter the following in terminal:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">sudo</span> apt-get install curl libcurl3 libcurl3-dev libxml2 libxml2-dev</code></pre></div>
<p>For <strong>RHEL</strong> systems, enter the following in terminal:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">sudo</span> yum install curl curl-devel libxml2 libxml2-dev</code></pre></div>
<p><strong>All Systems</strong></p>
<p>With the system dependency taken care of, we continue on by installing the R specific package dependencies and finally the package itself by doing the following in an R session:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Install dependencies</span>
<span class="kw">install.packages</span>(<span class="kw">c</span>(<span class="st">"RcppArmadillo"</span>,<span class="st">"ggplot2"</span>,<span class="st">"reshape2"</span>,<span class="st">"devtools"</span>,<span class="st">"knitr"</span>,<span class="st">"rmarkdown"</span>))

<span class="co"># Install the package from GitHub without Vignettes/User Guides</span>
devtools::<span class="kw">install_github</span>(<span class="st">"SMAC-Group/gmwm"</span>)

<span class="co"># Install the package from GitHub with Vignettes/User Guides</span>
<span class="co"># Note: This will be a longer install as the vignettes must be built.</span>
devtools::<span class="kw">install_github</span>(<span class="st">"SMAC-Group/gmwm"</span>, <span class="dt">build_vignettes =</span> <span class="ot">TRUE</span>)</code></pre></div>
</div>
<div id="installing-the-package-from-smac-group-com-stable---offline" class="section level2">
<h2 class="hasAnchor"><a href="#installing-the-package-from-smac-group-com-stable---offline" class="anchor"> </a>Installing the package from SMAC-Group.com (Stable - offline)</h2>
<p>Lastly, we will be offering a source .tar that is able to be install offline - after being downloaded - on the <a href="http://www.smac-group.com">smac-group.com</a> website.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Install the dependencies</span>
<span class="kw">install.packages</span>(<span class="kw">c</span>(<span class="st">"RcppArmadillo"</span>,<span class="st">"ggplot2"</span>,<span class="st">"scales"</span>,<span class="st">"devtools"</span>,<span class="st">"knitr"</span>,<span class="st">"rmarkdown"</span>))

<span class="co"># Local installation</span>
<span class="kw">setwd</span>(<span class="st">"path_to_file_GMWM_2.0.0.tar.gz"</span>)
<span class="kw">install.packages</span>(<span class="st">"GMWM"</span>, <span class="dt">repos =</span> <span class="ot">NULL</span>, <span class="dt">type=</span><span class="st">"source"</span>)</code></pre></div>
</div>
<div id="supplementary-data-package" class="section level2">
<h2 class="hasAnchor"><a href="#supplementary-data-package" class="anchor"> </a>Supplementary data package</h2>
<p>To test the package performance on real-world data that is <em>stationary</em> or work with some of the examples, you will need to download and install the <code>imudata</code> and/or the <code>datapkg</code> R package.</p>
<p>To do so, please use the following installation method within the <code>gmwm</code> R package:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Install the imudata package containing real world IMU data sets</span>
gmwm::<span class="kw"><a href="reference/install_imudata.html">install_imudata</a></span>()

<span class="co"># Install the datapkg package containing miscellaneous data sets</span>
gmwm::<span class="kw"><a href="reference/install_datapkg.html">install_datapkg</a></span>()</code></pre></div>
<p>For more information about the <code>imudata</code> and <code>datapkg</code> package, see the <a href="https://github.com/SMAC-Group/imudata" class="uri">https://github.com/SMAC-Group/imudata</a> and <a href="https://github.com/SMAC-Group/datapkg" class="uri">https://github.com/SMAC-Group/datapkg</a>.</p>
</div>
</div>
<div id="user-guides" class="section level1">
<h1 class="hasAnchor"><a href="#user-guides" class="anchor"> </a>User Guides</h1>
<p>Various guides ship with package or are available on <a href="http://smac-group.com/" class="uri">http://smac-group.com/</a> to provide insight into how to use the different methods. At the present time, the following vignettes are available:</p>
<ol style="list-style-type: decimal"><li>Process to Haar Wavelet Variance <a href="http://smac-group.com/computing/process-to-haar-wavelet-variance-formulae">(Online)</a></li>
</ol></div>
<div id="licensing" class="section level1">
<h1 class="hasAnchor"><a href="#licensing" class="anchor"> </a>Licensing</h1>
<p>The license this source code is released under is the GNU AFFERO GENERAL PUBLIC LICENSE (AGPL) v3.0. In some cases, the GPL license does apply. However, in the majority of the cases, the license in effect is the GNU AFFERO GENERAL PUBLIC LICENSE (AGPL) v3.0 as the computational code is heavily dependent on Armadilllo, which use the MPL license that enables us to recast our code to use the GNU AFFERO GENERAL PUBLIC LICENSE (AGPL) v3.0. See the LICENSE file for full text. Otherwise, please consult <a href="https://tldrlegal.com/license/gnu-affero-general-public-license-v3-(agpl-3.0)">TLDR Legal</a> or <a href="https://www.gnu.org/licenses/agpl-3.0.en.html">GNU</a> which will provide a synopsis of the restrictions placed upon the code. Please note, this does NOT excuse you from talking about licensing with a lawyer!</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Links</h2><ul class="list-unstyled"><li>Download from CRAN at <br><a href="https://cran.r-project.org/package=gmwm">https://&#8203;cran.r-project.org/&#8203;package=gmwm</a></li>
<li>Browse source code at <br><a href="https://github.com/SMAC-Group/gmwm">https://&#8203;github.com/&#8203;SMAC-Group/&#8203;gmwm</a></li>
<li>Report a bug at <br><a href="https://github.com/SMAC-Group/gmwm/issues">https://&#8203;github.com/&#8203;SMAC-Group/&#8203;gmwm/&#8203;issues</a></li>
</ul><h2>License</h2>
<p><a href="https://www.r-project.org/Licenses/AGPL-3">AGPL-3</a></p>
<h2>Developers</h2><ul class="list-unstyled"><li>James Balamuta <br><small class="roles"> Author, copyright&nbsp;holder </small> </li>
<li>Stephane Guerrier <br><small class="roles"> Contributor, maintainer, copyright&nbsp;holder </small> </li>
<li><a href="authors.html">All authors...</a></li>
</ul><html><body><h2>Dev status</h2><ul class="list-unstyled"><li><a href="https://travis-ci.org/SMAC-Group/gmwm">
  <img src="https://travis-ci.org/SMAC-Group/gmwm.svg?branch=master" alt="Linux Build Status"></a></li>
<li><a href="http://www.r-pkg.org/pkg/gmwm">
  <img src="http://cranlogs.r-pkg.org/badges/gmwm" alt="CRAN RStudio mirror downloads"></a></li>
<li><a href="http://cran.r-project.org/package=gmwm">
  <img src="http://www.r-pkg.org/badges/version/gmwm" alt="CRAN_Status_Badge"></a></li>
</ul></body></html></div>

</div>


      <footer><div class="copyright">
  <p>Developed by James Balamuta, Stephane Guerrier.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer></div>

  </body></html>
